{
  "apiVersion": "tekton.dev/v1alpha1",
  "kind": "Task",
  "metadata": {
    "creationTimestamp": "2019-07-27T09:05:27Z",
    "generation": 1,
    "labels": {
      "branch": "master",
      "build": "6",
      "context": "release",
      "created-by-prow": "true",
      "jenkins.io/task-stage-name": "from-build-pack",
      "owner": "salaboy",
      "prowJobName": "a7ca6b0e-b04d-11e9-bf25-622a3e26e6c0",
      "repo": "tech-conferences-operator"
    },
    "name": "salaboy-tech-conferences-operat-5zzmz-from-build-pack-6",
    "namespace": "jx",
    "ownerReferences": [
      {
        "apiVersion": "jenkins.io/v1",
        "kind": "PipelineActivity",
        "name": "salaboy-tech-conferences-operator-master-6",
        "uid": "ad3503a9-b04d-11e9-b4af-42010aa400c9"
      }
    ],
    "resourceVersion": "3394460",
    "selfLink": "/apis/tekton.dev/v1alpha1/namespaces/jx/tasks/salaboy-tech-conferences-operat-5zzmz-from-build-pack-6",
    "uid": "ad3e4498-b04d-11e9-b4af-42010aa400c9"
  },
  "spec": {
    "inputs": {
      "params": [
        {
          "default": "0.0.6",
          "description": "the version number for this pipeline which is used as a tag on docker images and helm charts",
          "name": "version"
        },
        {
          "default": "6",
          "description": "the PipelineRun build number",
          "name": "build_id"
        }
      ],
      "resources": [
        {
          "name": "workspace",
          "outputImageDir": "",
          "targetPath": "source",
          "type": "git"
        }
      ]
    },
    "steps": [
      {
        "args": [
          "step",
          "git",
          "merge",
          "--verbose"
        ],
        "command": [
          "jx"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-jx:0.1.527",
        "name": "git-merge",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source"
      },
      {
        "args": [
          "jx step git credentials"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "setup-jx-git-credentials",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source"
      },
      {
        "args": [
          "mvn clean deploy"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "build-mvn-deploy",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source"
      },
      {
        "args": [
          "skaffold version"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "build-skaffold-version",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source"
      },
      {
        "args": [
          "--cache=true",
          "--cache-dir=/workspace",
          "--context=/workspace/source",
          "--dockerfile=/workspace/source/Dockerfile",
          "--destination=gcr.io/salaboy-jx/tech-conferences-operator:${inputs.params.version}",
          "--cache-repo=gcr.io/salaboy-jx/cache"
        ],
        "command": [
          "/kaniko/executor"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "GOOGLE_APPLICATION_CREDENTIALS",
            "value": "/kaniko-secret/secret.json"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/kaniko-project/executor:9912ccbf8d22bbafbf971124600fbb0b13b9cbd6",
        "name": "build-container-build",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/kaniko-secret",
            "name": "kaniko-secret",
            "readOnly": true
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source"
      },
      {
        "args": [
          "jx step post build --image $DOCKER_REGISTRY/$ORG/$APP_NAME:${VERSION}"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "build-post-build",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source"
      },
      {
        "args": [
          "jx step changelog --version v${VERSION}"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "promote-changelog",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source/charts/tech-conferences-operator"
      },
      {
        "args": [
          "jx step helm release"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "promote-helm-release",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source/charts/tech-conferences-operator"
      },
      {
        "args": [
          "jx promote -b --all-auto --timeout 1h --version ${VERSION}"
        ],
        "command": [
          "/bin/sh",
          "-c"
        ],
        "env": [
          {
            "name": "BUILD_ID"
          },
          {
            "name": "DOCKER_CONFIG",
            "value": "/home/jenkins/.docker/"
          },
          {
            "name": "DOCKER_REGISTRY",
            "valueFrom": {
              "configMapKeyRef": {
                "key": "docker.registry",
                "name": "jenkins-x-docker-registry"
              }
            }
          },
          {
            "name": "GIT_AUTHOR_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_AUTHOR_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "GIT_COMMITTER_EMAIL",
            "value": "jenkins-x@googlegroups.com"
          },
          {
            "name": "GIT_COMMITTER_NAME",
            "value": "jenkins-x-bot"
          },
          {
            "name": "JOB_NAME",
            "value": "release"
          },
          {
            "name": "JOB_SPEC",
            "value": "{\"type\":\"postsubmit\",\"job\":\"release\",\"refs\":{\"org\":\"salaboy\",\"repo\":\"tech-conferences-operator\",\"base_ref\":\"master\",\"base_sha\":\"b76f8d5bb64ba0a973653818283e0b90c93d5f13\"}}"
          },
          {
            "name": "JOB_TYPE",
            "value": "postsubmit"
          },
          {
            "name": "MAVEN_OPTS",
            "value": "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
          },
          {
            "name": "PROW_JOB_ID"
          },
          {
            "name": "PULL_BASE_REF",
            "value": "master"
          },
          {
            "name": "PULL_BASE_SHA",
            "value": "b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "PULL_REFS",
            "value": "master:b76f8d5bb64ba0a973653818283e0b90c93d5f13"
          },
          {
            "name": "REPO_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "REPO_OWNER",
            "value": "salaboy"
          },
          {
            "name": "REPO_URL",
            "value": "https://github.com/salaboy/tech-conferences-operator.git"
          },
          {
            "name": "TILLER_NAMESPACE",
            "value": "kube-system"
          },
          {
            "name": "XDG_CONFIG_HOME",
            "value": "/workspace/xdg_config"
          },
          {
            "name": "_JAVA_OPTIONS",
            "value": "-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m"
          },
          {
            "name": "BUILD_NUMBER",
            "value": "6"
          },
          {
            "name": "PIPELINE_KIND",
            "value": "release"
          },
          {
            "name": "PIPELINE_CONTEXT",
            "value": "release"
          },
          {
            "name": "APP_NAME",
            "value": "tech-conferences-operator"
          },
          {
            "name": "BRANCH_NAME",
            "value": "master"
          },
          {
            "name": "JX_BATCH_MODE",
            "value": "true"
          },
          {
            "name": "VERSION",
            "value": "${inputs.params.version}"
          },
          {
            "name": "PREVIEW_VERSION",
            "value": "${inputs.params.version}"
          }
        ],
        "image": "gcr.io/jenkinsxio/builder-maven:0.1.560",
        "name": "promote-jx-promote",
        "resources": {
          "requests": {
            "cpu": "400m",
            "memory": "512Mi"
          }
        },
        "securityContext": {
          "privileged": true
        },
        "volumeMounts": [
          {
            "mountPath": "/home/jenkins",
            "name": "workspace-volume"
          },
          {
            "mountPath": "/var/run/docker.sock",
            "name": "docker-daemon"
          },
          {
            "mountPath": "/root/.m2/",
            "name": "volume-0"
          },
          {
            "mountPath": "/home/jenkins/.docker",
            "name": "volume-1"
          },
          {
            "mountPath": "/home/jenkins/.gnupg",
            "name": "volume-2"
          },
          {
            "mountPath": "/etc/podinfo",
            "name": "podinfo",
            "readOnly": true
          }
        ],
        "workingDir": "/workspace/source/charts/tech-conferences-operator"
      }
    ],
    "volumes": [
      {
        "hostPath": {
          "path": "/var/run/docker.sock"
        },
        "name": "docker-daemon"
      },
      {
        "name": "volume-0",
        "secret": {
          "secretName": "jenkins-maven-settings"
        }
      },
      {
        "name": "volume-1",
        "secret": {
          "secretName": "jenkins-docker-cfg"
        }
      },
      {
        "name": "volume-2",
        "secret": {
          "secretName": "jenkins-release-gpg"
        }
      },
      {
        "emptyDir": {},
        "name": "workspace-volume"
      },
      {
        "downwardAPI": {
          "items": [
            {
              "fieldRef": {
                "fieldPath": "metadata.labels"
              },
              "path": "labels"
            }
          ]
        },
        "name": "podinfo"
      },
      {
        "name": "kaniko-secret",
        "secret": {
          "items": [
            {
              "key": "kaniko-secret",
              "path": "secret.json"
            }
          ],
          "secretName": "kaniko-secret"
        }
      }
    ]
  }
}
